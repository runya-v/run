/*!
 * \brief  Генератор HTML Тэга.
 * \author Rostislav Velichko. rostislav.vel@gmail.com
 * \date   23.11.2012
 */


#include "Tag.hpp"
#include "TagCreator.hpp"


namespace HtmlParser {

    void BaseTagCreator::init(const std::string &tag_name, PCreator creator) {
        if (not BaseTagCreator::_creators.insert(std::make_pair(tag_name, creator)).second) {
            // TODO: throw exception
        }
    }


    BaseTagCreator* BaseTagCreator::get(const std::string &tag_name) {
        CreatorsIter it = _creators.find(tag_name);

        if (it not_eq _creators.end()) {
            return it->second.get();
        }
        return new TagCreator< BaseTag >();
    }


    BaseTagCreator::~BaseTagCreator()
    {}
}
